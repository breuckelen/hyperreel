# @package _group_

#batch_size: 32768
batch_size: 16384

ray_chunk: 32768
net_chunk: 32768
render_ray_chunk: 32768

update_data_every: 1
reload_data_every: 100

log_every: 1
val_every: 10
render_every: 40
ckpt_every: 40
test_every: 20
flush_logs: 1000

num_workers: 16
num_gpus: 1

multiscale: False
scales: [4, 2, 1]
scale_batch_sizes: [16384, 16384, 16384]
scale_lrs: [1.0, 1.0, 1.0]
scale_epochs: [0, 1, 2]

weight_init:
  type: none

loss:
  type: mse

sample_with_replacement: True
num_iters: 4000
num_epochs: 40

optimizers:
  color:
    optimizer: adam
    lr: 0.0025
    clip: False
    clip_amount: 1.0
    momentum: 0.9
    weight_decay: 0

    lr_scheduler: exp
    warmup_multiplier: 1.0
    warmup_epochs: 0

    decay_epoch: 100
    decay_gamma: 0.125

    reset_opt_list: []
    #reset_opt_list: [1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000]

  color_impl:
    optimizer: adam
    lr: 0.0025
    clip: False
    clip_amount: 1.0
    momentum: 0.9
    weight_decay: 0

    lr_scheduler: exp
    warmup_multiplier: 1.0
    warmup_epochs: 0

    decay_epoch: 100
    decay_gamma: 0.125

    reset_opt_list: []
    #reset_opt_list: [1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000]

  embedding_impl:
    optimizer: adam
    lr: 0.00075
    clip: False
    clip_amount: 1.0
    momentum: 0.9
    weight_decay: 0

    lr_scheduler: exp
    warmup_multiplier: 1.0
    warmup_epochs: 0

    decay_epoch: 50
    decay_gamma: 0.125

    reset_opt_list: []
    #reset_opt_list: [1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000]


  embedding_impl_large:
    optimizer: adam
    lr: 0.00075
    clip: False
    clip_amount: 1.0
    momentum: 0.9
    weight_decay: 0

    lr_scheduler: exp
    warmup_multiplier: 1.0
    warmup_epochs: 0

    decay_epoch: 50
    decay_gamma: 0.125

    reset_opt_list: []
    #reset_opt_list: [1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000]

